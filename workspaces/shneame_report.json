{
  "title": "GEOLYTIX | Shepherd Neame",
  "locales": {
      "GB": {
          "gazetteer": {
              "provider": "GOOGLE",
              "code": "GB",
              "placeholder": "e.g. London"
          },
          "view": {
              "lat": 51.18,
              "lng": -0.37,
              "z": 9
          },
          "grid_fields": {
            "Population 2017": "pop__17",
            "Population 2011": "pop__11",
            "Age 18 to 24": "age18_24",
            "Age 25 to 44": "age25_44",
            "Age 45 to 59": "age45_59",
            "Age 60 plus": "age60plus",
            "AB": "abhrp",
            "C1C2": "c1c2hrp",
            "DE": "dehrp",
            "Employed": "employed",
            "Unemployed": "eaunemp",
            "White Total Population": "whitetot",
            "Non White Population": "nonwhite",
            "Household - single": "pers1hhd",
            "Household - 2 persons": "pers2hhd",
            "Household - 2+ persons": "pers2plushhd",
            "Dwelling - own home (mortgaged/outright)": "own",
            "Social": "social",
            "Private renters": "rent"
          }
        },
        "label": {
          "group": "Base maps",
          "display": true,
          "name": "Mapbox Labels",
          "attribution": {
            "© Mapbox": "https://www.mapbox.com/about/maps",
            "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
          },
          "format": "tiles",
          "URI": "https://api.mapbox.com/styles/v1/dbauszus/cj9puo8pr5o0c2sovhdwhkc7z/tiles/256/{z}/{x}/{y}?&provider=MAPBOX"
        },
        "retail_places_mvt": {
          "display": true,
          "group": "Retail",
          "name": "Retail Places",
          "meta": "Polygon representing a Retail Place.",
          "attribution": ["Retail place. Geolytix License."],
          "format": "mvt",
          "dbs": "XYZ",
          "mvt_fields": ["rp_type"],
          "qID": "id",
          "tables": {
            "11": null,
            "12": "gb_retailplace"
          },
          "infoj": [{
              "field": "rp_name",
              "label": "Name",
              "filter": "like"
            },
            {
              "field": "rp_type",
              "label": "Type",
              "filter": "match"
            },
            {
              "field": "ref_pc",
              "label": "Reference Postcode",
              "level": 1,
              "filter": "like"
            },
            {
              "field": "comp_strgh",
              "label": "Competition Strength",
              "type": "integer",
              "level": 1
            },
            {
              "field": "est_units",
              "label": "Estimate Units",
              "type": "integer",
              "level": 1
            },
            {
              "field": "est_brands",
              "label": "Estimate Brands",
              "type": "integer",
              "level": 1
            },
            {
              "label": "Profile",
              "type": "group",
              "chart": {
                "active": true,
                "x": "label x",
                "y": "label y",
                "type": "bar",
                "stacked": true,
                "backgroundColor": ["#FFA630", "#C6DEA6", "#7EBDC3", "#7A6263", "#CED097"],
                "borderColor": ["#FFA630", "#C6DEA6", "#7EBDC3", "#7A6263", "#CED097"]
              }
            },
            {
              "group": "Profile",
              "label": "Comparison",
              "field": "comparison",
              "type": "numeric"
            },
            {
              "group": "Profile",
              "label": "Convenience",
              "field": "conv",
              "type": "numeric"
            },
            {
              "group": "Profile",
              "label": "F/B/L",
              "field": "fbl",
              "type": "numeric",
              "title": "Food/Beverage/Leisure"
            },
            {
              "group": "Profile",
              "label": "Services",
              "field": "services",
              "type": "numeric"
            },
            {
              "group": "Profile",
              "label": "Class/Brass",
              "field": "classbrass",
              "type": "numeric"
            }
          ],
          "style": {
            "default": {
              "weight": 1,
              "color": "#000",
              "fill": true,
              "fillColor": "#000",
              "fillOpacity": 0.3
            },
            "highlight": {
              "color": "#e91e63",
              "fill": true,
              "fillOpacity": 0.3
            },
            "themes": {
              "Retail Place Type": {
                "type": "categorized",
                "field": "rp_type",
                "other": true,
                "cat": {
                  "Major City Centre": {
                    "weight": 2,
                    "color": "#EF271B",
                    "opacity": 1,
                    "fillColor": "#EF271B"
                  },
                  "City Centre": {
                    "weight": 2,
                    "color": "#BA2D0B",
                    "opacity": 1,
                    "fillColor": "#BA2D0B"
                  },
                  "Large Town Centre": {
                    "weight": 2,
                    "color": "#FE4E00",
                    "opacity": 1,
                    "fillColor": "#FE4E00"
                  },
                  "Major Urban Centre": {
                    "weight": 2,
                    "color": "#E2711D",
                    "opacity": 1,
                    "fillColor": "#E2711D"
                  },
                  "Town Centre": {
                    "weight": 2,
                    "color": "#F3A712",
                    "opacity": 1,
                    "fillColor": "#F3A712"
                  },
                  "Urban Centre": {
                    "weight": 2,
                    "color": "#FADF63",
                    "opacity": 1,
                    "fillColor": "#FADF63"
                  },
                  "Small Town Centre": {
                    "weight": 2,
                    "color": "#FFE74C",
                    "opacity": 1,
                    "fillColor": "#FFE74C"
                  },
                  "Village Centre": {
                    "weight": 2,
                    "color": "#DBFE87",
                    "opacity": 1,
                    "fillColor": "#DBFE87"
                  },
                  "Regional SC": {
                    "weight": 2,
                    "color": "#8ED081",
                    "opacity": 1,
                    "fillColor": "#8ED081",
                    "label": "Regional Shopping Centre"
                  },
                  "Outlet Centre": {
                    "weight": 2,
                    "color": "#7DDF64",
                    "opacity": 1,
                    "fillColor": "#7DDF64"
                  },
                  "Shopping Park": {
                    "weight": 2,
                    "color": "#074F57",
                    "opacity": 1,
                    "fillColor": "#074F57"
                  },
                  "Retail Park": {
                    "weight": 2,
                    "color": "#32746D",
                    "opacity": 1,
                    "fillColor": "#32746D"
                  },
                  "Leisure Park": {
                    "weight": 2,
                    "color": "#41D3BD",
                    "opacity": 1,
                    "fillColor": "#41D3BD"
                  },
                  "Local Hub": {
                    "weight": 2,
                    "color": "#08B2E3",
                    "opacity": 1,
                    "fillColor": "#08B2E3"
                  },
                  "Large Parade": {
                    "weight": 2,
                    "color": "#1F487E",
                    "opacity": 1,
                    "fillColor": "#1F487E"
                  },
                  "Parade": {
                    "weight": 2,
                    "color": "#541388",
                    "opacity": 1,
                    "fillColor": "#541388"
                  },
                  "Weak Parade": {
                    "weight": 2,
                    "color": "#D90368",
                    "opacity": 1,
                    "fillColor": "#D90368"
                  }
                }
              }
            }
          }
        },
        "locations": {
          "name": "Locations",
          "format": "cluster",
          "geom": "geom_4326",
          "dbs": "XYZ",
          "qID": "id",
          "table": "shepherd_neame.sites",
          "cluster_label": "pub_name",
          "infoj": [{
              "field": "isoline_5min",
              "name": "Drivetime 5 min",
              "fieldfx": "ST_asGeoJson(isoline_5min)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "minutes": 5
                }
              }
            },
            {
              "field": "isoline_10min",
              "name": "Drivetime 10 min",
              "fieldfx": "ST_asGeoJson(isoline_10min)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "minutes": 10
                }
              }
            },
            {
              "field": "isoline_15min",
              "name": "Drivetime 15 min",
              "fieldfx": "ST_asGeoJson(isoline_15min)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "minutes": 15
                }
              }
            }
          ]
        },
        "report_test": {
          "display": true,
          "edit": {
            "properties": true,
            "point": true,
            "delete": true
          },
          "name": "Sites",
          "format": "cluster",
          "geom": "geom_4326",
          "dbs": "XYZ",
          "qID": "id",
          "table": "shepherd_neame.sites",
          "cluster_label": "pub_name",
          "tableview": {
            "tables": {
              "Sites": {
                "from": "shepherd_neame.sites",
                "columns": [{
                    "title": "ID",
                    "field": "id",
                    "type": "text"
                  },
                  "format": "tiles",
                  "URI": "https://api.mapbox.com/styles/v1/dbauszus/ciozrimi3002bdsm8bjtn2v1y/tiles/256/{z}/{x}/{y}?&provider=MAPBOX"
              },
              "label": {
                  "group": "Base maps",
                  "display": true,
                  "name": "Mapbox Labels",
                  "attribution": {
                      "© Mapbox": "https://www.mapbox.com/about/maps",
                      "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
                  },
                  "format": "tiles",
                  "URI": "https://api.mapbox.com/styles/v1/dbauszus/cj9puo8pr5o0c2sovhdwhkc7z/tiles/256/{z}/{x}/{y}?&provider=MAPBOX"
              },
              "here": {
                  "group": "Base maps",
                  "name": "HERE Imagery",
                  "attribution": {
                      "© Here": "https://legal.here.com/en-gb/terms/end-user-license-agreement"
                  },
                  "format": "tiles",
                  "URI": "https://1.aerial.maps.api.here.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?&provider=HERE",
                  "provider": "HERE"
              },
              "here_hybrid": {
                  "group": "Base maps",
                  "name": "HERE Hybrid",
                  "attribution": {
                      "© Here": "https://legal.here.com/en-gb/terms/end-user-license-agreement"
                  },
                  "format": "tiles",
                  "URI": "https://1.aerial.maps.api.here.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?&provider=HERE",
                  "provider": "HERE"
              },
              "retail_places_mvt": {
                  "group": "Retail Places",
                  "name": "Retail Places",
                  "meta": "Polygon representing a Retail Place.",
                  "format": "mvt",
                  "geom_3857": "geom_3857",
                  "dbs": "XYZ",
                  "qID": "id",
                  "geom": "geom_4326",
                  "mvt_fields": [
                      "rp_type",
                      "rp_name"
                  ],
                  "tables": {
                      "11": null,
                      "12": "shepherd_neame.uk_glx_retail_place_outline_view"
                  },
                  "infoj": [
                      {
                          "field": "rp_name",
                          "label": "Name",
                          "type": "text"
                      },
                      {
                          "field": "rp_type",
                          "label": "Type",
                          "type": "text"
                      },
                      {
                          "field": "rp_rank",
                          "label": "Town Rank",
                          "type": "text"
                      },
                      {
                          "field": "est_units",
                          "label": "Estimate Units",
                          "type": "integer",
                          "level": 1
                      },
                      {
                          "field": "est_brands",
                          "label": "Estimate Brands",
                          "type": "integer",
                          "level": 1
                      },
                      {
                          "field": "classbrass",
                          "label": "Class|Brass",
                          "type": "numeric",
                          "level": 1
                      },
                      {
                          "label": "Retail Composition",
                          "type": "group",
                          "chart": {
                              "x": "label x",
                              "y": "label y",
                              "type": "doughnut",
                              "backgroundColor": [
                                  "#ffb300",
                                  "#d81b60",
                                  "#8e24aa",
                                  "#5e35b1",
                                  "#3949ab",
                                  "#1e88e5",
                                  "#039be5",
                                  "#00acc1",
                                  "#00897b"
                              ],
                              "borderColor": [
                                  "#ffb300",
                                  "#d81b60",
                                  "#8e24aa",
                                  "#5e35b1",
                                  "#3949ab",
                                  "#1e88e5",
                                  "#039be5",
                                  "#00acc1",
                                  "#00897b"
                              ]
                          }
                      },
                      {
                          "group": "Retail Composition",
                          "label": "Comparison",
                          "field": "comp_pct",
                          "type": "integer"
                      },
                      {
                          "field": "fbl",
                          "group": "Retail Composition",
                          "label": "Food, Beverage, Leisure",
                          "type": "integer"
                      },
                      {
                          "field": "conv",
                          "group": "Retail Composition",
                          "label": "Convenience",
                          "type": "integer"
                      },
                      {
                          "field": "services",
                          "group": "Retail Composition",
                          "label": "Services",
                          "type": "integer"
                      }
                  ],
                  "style": {
                      "default": {
                          "weight": 1,
                          "color": "#000",
                          "fill": true,
                          "fillColor": "#000",
                          "fillOpacity": 0.3
                      },
                      "highlight": {
                          "color": "#e91e63",
                          "fill": true,
                          "fillOpacity": 0.3
                      },
                      "themes": {
                          "Retail Place Type": {
                              "label": "Retail Place type",
                              "type": "categorized",
                              "field": "rp_type",
                              "applied": true,
                              "other": true,
                              "cat": {
                                  "Major City Centre": {
                                      "label": "Major City Centre",
                                      "weight": 2,
                                      "color": "#EF271B",
                                      "opacity": 1,
                                      "fillColor": "#EF271B",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "City Centre": {
                                      "label": "City Centre",
                                      "weight": 2,
                                      "color": "#BA2D0B",
                                      "opacity": 1,
                                      "fillColor": "#BA2D0B",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Large Town Centre": {
                                      "label": "Large Town Centre",
                                      "weight": 2,
                                      "color": "#FE4E00",
                                      "opacity": 1,
                                      "fillColor": "#FE4E00",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Major Urban Centre": {
                                      "label": "Major Urban Centre",
                                      "weight": 2,
                                      "color": "#E2711D",
                                      "opacity": 1,
                                      "fillColor": "#E2711D",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Town Centre": {
                                      "label": "Town Centre",
                                      "weight": 2,
                                      "color": "#F3A712",
                                      "opacity": 1,
                                      "fillColor": "#F3A712",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Urban Centre": {
                                      "label": "Urban Centre",
                                      "weight": 2,
                                      "color": "#FADF63",
                                      "opacity": 1,
                                      "fillColor": "#FADF63",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Small Town Centre": {
                                      "label": "Small Town Centre",
                                      "weight": 2,
                                      "color": "#FFE74C",
                                      "opacity": 1,
                                      "fillColor": "#FFE74C",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Village Centre": {
                                      "label": "Village Centre",
                                      "weight": 2,
                                      "color": "#DBFE87",
                                      "opacity": 1,
                                      "fillColor": "#DBFE87",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Regional SC": {
                                      "label": "Regional Shopping Centre",
                                      "weight": 2,
                                      "color": "#8ED081",
                                      "opacity": 1,
                                      "fillColor": "#8ED081",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Outlet Centre": {
                                      "label": "Outlet Centre",
                                      "weight": 2,
                                      "color": "#7DDF64",
                                      "opacity": 1,
                                      "fillColor": "#7DDF64",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Shopping Park": {
                                      "label": "Shopping Park",
                                      "weight": 2,
                                      "color": "#074F57",
                                      "opacity": 1,
                                      "fillColor": "#074F57",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Retail Park": {
                                      "label": "Retail Park",
                                      "weight": 2,
                                      "color": "#32746D",
                                      "opacity": 1,
                                      "fillColor": "#32746D",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Leisure Park": {
                                      "label": "Leisure Park",
                                      "weight": 2,
                                      "color": "#41D3BD",
                                      "opacity": 1,
                                      "fillColor": "#41D3BD",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Local Hub": {
                                      "label": "Local Hub",
                                      "weight": 2,
                                      "color": "#08B2E3",
                                      "opacity": 1,
                                      "fillColor": "#08B2E3",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Large Parade": {
                                      "label": "Large Parade",
                                      "weight": 2,
                                      "color": "#1F487E",
                                      "opacity": 1,
                                      "fillColor": "#1F487E",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Parade": {
                                      "label": "Parade",
                                      "weight": 2,
                                      "color": "#541388",
                                      "opacity": 1,
                                      "fillColor": "#541388",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  },
                                  "Weak Parade": {
                                      "label": "Weak Parade",
                                      "weight": 2,
                                      "color": "#D90368",
                                      "opacity": 1,
                                      "fillColor": "#D90368",
                                      "fill": true,
                                      "fillOpacity": 0.3
                                  }
                              }
                          }
                      }
                  }
                ]
              }
            }
          },
          "infoj": [{
              "field": "isoline_5min",
              "name": "Drivetime 5 min",
              "fieldfx": "ST_asGeoJson(isoline_5min)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "minutes": 5
                }
              }
            },
            {
              "field": "isoline_10min",
              "name": "Drivetime 10 min",
              "fieldfx": "ST_asGeoJson(isoline_10min)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "minutes": 10
                }
              }
            },
            {
              "field": "isoline_15min",
              "name": "Drivetime 15 min",
              "fieldfx": "ST_asGeoJson(isoline_15min)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "minutes": 15
                }
              }
            },
            {
              "label": "Available tableviews",
              "type": "label"
            },
            {
              "type": "tableDefinition",
              "title": "Population Summary",
              "display": true,
              "columns": [{
                  "type": "integer",
                  "title": "0-5 mins",
                  "field": "min5",
                  "lookup": {
                    "table_a": "shepherd_neame.sites",
                    "table_b": "gb_hx_1k",
                    "geom_a": "isoline_5min",
                    "geom_b": "geomcntr"
                  }
              },
              "stations": {
                  "group": "Public Transport",
                  "meta": "The stations that service underground lines, are part of the National Rail network or the Northern Ireland rail stations and support thirteen light rail systems within the United Kingdom.",
                  "name": "Rail stations",
                  "format": "cluster",
                  "dbs": "XYZ",
                  "table": "shepherd_neame.public_transport_stations",
                  "geom": "geom_4326",
                  "cluster_label": "station_name",
                  "qID": "id",
                  "infoj": [
                      {
                          "field": "atco_code",
                          "label": "ATCO Code",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "rail_type",
                          "label": "Type",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "station_name",
                          "label": "Station name",
                          "type": "text"
                      },
                      {
                          "field": "network",
                          "label": "Network",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "line",
                          "label": "Lines",
                          "type": "text"
                      },
                      {
                          "field": "glx_town",
                          "label": "Town",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "country",
                          "label": "Country",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "type": "streetview"
                      }
                  ],
                  "style": {
                      "marker": {
                          "type": "target",
                          "fillColor": "#777",
                          "layers": {
                              "0.75": "#EEE",
                              "0.50": "#777"
                          }
                      },
                      "markerMulti": {
                          "type": "target",
                          "fillColor": "#777"
                      },
                      "themes": {
                          "Rail Type": {
                              "label": "Rail type",
                              "field": "rail_type",
                              "type": "categorized",
                              "other": true,
                              "cat": {
                                  "Light Rail": {
                                      "label": "Light Rail",
                                      "fillColor": "#00afad",
                                      "layers": {
                                          "0.75": "#FFFFFF",
                                          "0.50": "#00afad"
                                      }
                                  },
                                  "Rail": {
                                      "label": "Rail",
                                      "fillColor": "#0019a8",
                                      "layers": {
                                          "0.75": "#FFFFFF",
                                          "0.50": "#0019a8"
                                      }
                                  },
                                  "Underground": {
                                      "label": "Rail",
                                      "fillColor": "#0019A8",
                                      "layers": {
                                          "0.75": "#FFFFFF",
                                          "0.50": "#DC241F"
                                      }
                                  }
                              }
                          }
                      }
                  }
              },
              "rail": {
                  "group": "Public Transport",
                  "name": "Railways",
                  "meta": "The rail and light rail systems within the United Kingdom.",
                  "format": "mvt",
                  "mvt_cache": true,
                  "mvt_fields": [
                      "type_rail"
                  ],
                  "dbs": "XYZ",
                  "geom": "geom_4326",
                  "geom_3857": "geom_3857",
                  "table": "shepherd_neame.public_transport_lines",
                  "style": {
                      "default": {
                          "weight": 1,
                          "color": "#3C7A89",
                          "fill": true,
                          "fillColor": "#3C7A89",
                          "fillOpacity": 0.3
                      },
                      "themes": {
                          "Rail Type": {
                              "field": "type_rail",
                              "label": "Rail type",
                              "type": "categorized",
                              "other": true,
                              "cat": {
                                  "Rail": {
                                      "label": "Rail",
                                      "color": "#129490",
                                      "opacity": 1,
                                      "fillColor": "#129490",
                                      "fill": true,
                                      "fillOpacity": 0.3,
                                      "weight": 2
                                  },
                                  "Light Rail": {
                                      "label": "Light Rail",
                                      "color": "#C1B098",
                                      "opacity": 1,
                                      "fillColor": "#C1B098",
                                      "fill": true,
                                      "fillOpacity": 0.3,
                                      "weight": 2
                                  }
                              }
                          }
                      }
                  }
                }
              ],
              "rows": [{
                  "field": "pop__17",
                  "fieldfx": "SUM(b.pop__17)",
                  "title": "Current Population"
                },
                {
                  "field": "pop__11",
                  "fieldfx": "SUM(b.pop__11)",
                  "title": "Population 2011"
                },
                {
                  "field": "pop_growth",
                  "fieldfx": "SUM(b.pop__17 - b.pop__11) * 100 / SUM(b.pop__11)",
                  "title": "Population Growth"
                },
                {
                  "field": "students",
                  "fieldfx": "SUM(eac_student__11) + SUM(ein_student__11)",
                  "title": "Students"
                },
                {
                  "field": "non_white",
                  "fieldfx": "100*(SUM(pop__11) - SUM(ret_white_tot__11))/SUM(pop__11)",
                  "title": "% Non-White"
                },
                {
                  "field": "own_home",
                  "fieldfx": "100*SUM(own)/SUM(own+rent+social)",
                  "title": "Own Home"
                },
                {
                  "field": "private_rented",
                  "fieldfx": "100*SUM(rent)/SUM(own+rent+social)",
                  "title": "Private Rented"
                },
                {
                  "field": "social_rented",
                  "fieldfx": "100*SUM(social)/SUM(own+rent+social)",
                  "title": "Social Rented"
                },
                {
                  "field": "single_hhds",
                  "fieldfx": "100*SUM(pers1hhd)/SUM(pers1hhd+pers2hhd+pers2plushhd)",
                  "title": "Single Hhds"
                },
                {
                  "field": "hhds_two_ppl",
                  "fieldfx": "100*SUM(pers2hhd)/SUM(pers1hhd+pers2hhd+pers2plushhd)",
                  "title": "2 Person Hhds"
                },
                {
                  "field": "hhds_3plus",
                  "fieldfx": "100*SUM(pers2plushhd)/SUM(pers1hhd+pers2hhd+pers2plushhd)",
                  "title": "3+ Hhds"
                }
              ]
            },
            {
              "type": "tableDefinition",
              "title": "Age Profile",
              "chart": {
                "type": "horizontalBar",
                "active": true,
                "field": "age_index"
              },
              "columns": [{
                  "type": "integer",
                  "title": "0-5 mins",
                  "field": "min5",
                  "lookup": {
                    "table_a": "shepherd_neame.sites",
                    "table_b": "gb_hx_1k",
                    "geom_a": "isoline_5min",
                    "geom_b": "geomcntr"
                  }
              },
              "shoppertown": {
                  "name": "Shopper town",
                  "group": "Towns",
                  "meta": "585 seamless shopper towns which are created by using true town centres.",
                  "format": "mvt",
                  "dbs": "XYZ",
                  "qID": "id",
                  "mvt_cache": true,
                  "mvt_fields": [
                      "pop_11"
                  ],
                  "table": "shepherd_neame.uk_glx_seamless_shoppertown_view",
                  "infoj": [
                      {
                          "field": "dom_rpid",
                          "label": "RP ID",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "shoptown",
                          "label": "Shop town",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "pop_11",
                          "label": "Sum of Population 2011",
                          "type": "numeric",
                          "inline": true
                      },
                      {
                          "field": "pop_11_17",
                          "label": "Population growth % 2011 to 2017",
                          "postfix": " %",
                          "type": "numeric",
                          "inline": true
                      },
                      {
                          "field": "sn_pub",
                          "label": "# Shepherd Neame Pubs",
                          "type": "numeric",
                          "inline": true
                      },
                      {
                          "field": "pop_snpub",
                          "label": "Population per Shepherd Neame Pub",
                          "type": "numeric",
                          "inline": true
                      },
                      {
                          "field": "comp_pub",
                          "label": "# Pubs/Restaurants (Competitors)",
                          "type": "numeric",
                          "inline": true
                      },
                      {
                          "field": "pop_pub",
                          "label": "Population per Pub",
                          "type": "numeric",
                          "inline": true
                      },
                      {
                          "field": "ab_pct",
                          "label": "%AB",
                          "postfix": " %",
                          "type": "numeric",
                          "inline": true
                      },
                      {
                          "field": "de_pct",
                          "label": "%DE",
                          "postfix": " %",
                          "type": "numeric",
                          "inline": true
                      }
                  ],
                  "style": {
                      "default": {
                          "weight": 2,
                          "color": "#d84315",
                          "fill": true,
                          "fillColor": "#d84315",
                          "fillOpacity": 0
                      },
                      "highlight": {
                          "color": "#d84315",
                          "fill": true,
                          "fillOpacity": 0,
                          "weight": 4
                      }
                  }
              },
              "work_place_hybrid_zone": {
                  "name": "Workers",
                  "meta": "2015 worker counts, densities and occupation splits on hybrid zone level.",
                  "format": "mvt",
                  "dbs": "XYZ",
                  "mvt_fields": [
                      "workers_15",
                      "workerskm2"
                  ],
                  "mvt_cache": true,
                  "geom_3857": "geom_3857_10m",
                  "tables": {
                      "10": null,
                      "11": "shepherd_neame.vw_glx_geodata_workers_hybrid_zone"
                  },
                  "qID": "id",
                  "infoj": [
                      {
                          "field": "oa_code",
                          "label": "OA Code",
                          "inline": true
                      },
                      {
                          "field": "wz_code",
                          "label": "WZ Code",
                          "inline": true
                      },
                      {
                          "field": "workers_15",
                          "label": "Workers",
                          "type": "integer",
                          "inline": true
                      },
                      {
                          "field": "workerskm2",
                          "label": "Workers km2",
                          "type": "integer",
                          "inline": true
                      },
                      {
                          "label": "Occupation Splits",
                          "type": "group",
                          "chart": {
                              "type": "doughnut",
                              "backgroundColor": [
                                  "#ffb300",
                                  "#d81b60",
                                  "#8e24aa",
                                  "#5e35b1",
                                  "#3949ab",
                                  "#1e88e5",
                                  "#039be5",
                                  "#00acc1",
                                  "#00897b"
                              ],
                              "borderColor": [
                                  "#ffb300",
                                  "#d81b60",
                                  "#8e24aa",
                                  "#5e35b1",
                                  "#3949ab",
                                  "#1e88e5",
                                  "#039be5",
                                  "#00acc1",
                                  "#00897b"
                              ]
                          }
                      },
                      {
                          "group": "Occupation Splits",
                          "label": "Managerial",
                          "field": "managerial",
                          "type": "integer"
                      },
                      {
                          "group": "Occupation Splits",
                          "field": "profession",
                          "label": "Professional",
                          "type": "integer"
                      },
                      {
                          "group": "Occupation Splits",
                          "field": "technical",
                          "label": "Technical",
                          "type": "integer"
                      },
                      {
                          "group": "Occupation Splits",
                          "field": "administra",
                          "label": "Administration",
                          "type": "integer"
                      },
                      {
                          "group": "Occupation Splits",
                          "field": "trades",
                          "label": "Trades",
                          "type": "integer"
                      },
                      {
                          "group": "Occupation Splits",
                          "field": "services",
                          "label": "Services",
                          "type": "integer"
                      },
                      {
                          "group": "Occupation Splits",
                          "field": "sales",
                          "label": "Sales",
                          "type": "integer"
                      },
                      {
                          "group": "Occupation Splits",
                          "field": "operatives",
                          "label": "Operatives",
                          "type": "integer"
                      },
                      {
                          "group": "Occupation Splits",
                          "field": "elementary",
                          "label": "Elementary",
                          "type": "integer"
                      }
                  ],
                  "style": {
                      "default": {
                          "weight": 1,
                          "color": "#5A9367",
                          "fill": true,
                          "fillColor": "#5A9367",
                          "fillOpacity": 0.3
                      },
                      "highlight": {
                          "color": "#5A9367",
                          "fill": true,
                          "fillOpacity": 0.6
                      },
                      "themes": {
                          "Workers km2": {
                              "type": "graduated",
                              "field": "workerskm2",
                              "cat": {
                                  "100": {
                                      "label": "100 or less per km2",
                                      "opacity": 1,
                                      "color": "#1e88e5",
                                      "fillColor": "#1e88e5"
                                  },
                                  "1000": {
                                      "label": "1,000 per km2",
                                      "opacity": 1,
                                      "color": "#00897b",
                                      "fillColor": "#00897b"
                                  },
                                  "5000": {
                                      "label": "5,000 per km2",
                                      "opacity": 1,
                                      "color": "#43a047",
                                      "fillColor": "#43a047"
                                  },
                                  "10000": {
                                      "label": "10,000 per km2",
                                      "color": "#c0ca33",
                                      "opacity": 1,
                                      "fillColor": "#c0ca33"
                                  },
                                  "20000": {
                                      "label": "20,000 per km2",
                                      "opacity": 1,
                                      "color": "#fdd835",
                                      "fillColor": "#fdd835"
                                  },
                                  "50000": {
                                      "label": "50,000 per km2",
                                      "opacity": 1,
                                      "color": "#fb8c00",
                                      "fillColor": "#fb8c00"
                                  },
                                  "100000": {
                                      "label": "over 100,000 per km2",
                                      "opacity": 1,
                                      "color": "#f4511e",
                                      "fillColor": "#f4511e"
                                  }
                              }
                          }
                      }
                  }
                },
                {
                  "field": "uk",
                  "aspatial": "age_under_18_se_lon, age_18to24_se_lon, age_25to29_se_lon, age_30to44_se_lon, age_45to59_se_lon, age_60plus_se_lon, age_total_se_lon FROM shepherd_neame.report_summary"
                }
              ],
              "rows": [{
                  "field": "age_under_18",
                  "title": "< 18",
                  "fieldfx": "SUM(pop__11 - age_18to19__11 - age_20to24__11 - age_25to29__11 - age_30to44__11 - age_45to59__11 - age60plus)"
                },
                {
                  "field": "age_18to24",
                  "fieldfx": "SUM(age_18to19__11 + age_20to24__11)",
                  "title": "18 to 24"
                },
                {
                  "field": "age_25to29",
                  "fieldfx": "SUM(age_25to29__11)",
                  "title": "25 to 29"
                },
                {
                  "field": "age_30to44",
                  "fieldfx": "SUM(age_30to44__11)",
                  "title": "30 to 44"
                },
                {
                  "field": "age_45to59",
                  "fieldfx": "SUM(age_45to59__11)",
                  "title": "45 to 59"
                },
                {
                  "field": "age_60plus",
                  "fieldfx": "SUM(age60plus)",
                  "title": "60+"
                },
                {
                  "field": "age_profile_total",
                  "fieldfx": "SUM(pop__11)",
                  "title": "Total UK"
                }
              ],
              "agg": {
                "share15": {
                  "title": "% with 15 min",
                  "type": "integer",
                  "rows": [
                    "100*min15.age_under_18/min15.age_profile_total",
                    "100*min15.age_18to24/min15.age_profile_total",
                    "100*min15.age_25to29/min15.age_profile_total",
                    "100*min15.age_30to44/min15.age_profile_total",
                    "100*min15.age_45to59/min15.age_profile_total",
                    "100*min15.age_60plus/min15.age_profile_total",
                    "100*min15.age_profile_total/min15.age_profile_total"
                  ]
                },
                "age_se_lon_total": {
                  "title": "SE and London",
                  "type": "integer",
                  "rows": [
                    "uk.age_under_18_se_lon",
                    "uk.age_18to24_se_lon",
                    "uk.age_25to29_se_lon",
                    "uk.age_30to44_se_lon",
                    "uk.age_45to59_se_lon",
                    "uk.age_60plus_se_lon",
                    "uk.age_total_se_lon"
                  ]
                },
                "age_index": {
                  "title": "Age Profile Index",
                  "type": "numeric(1000, 2)",
                  "rows": [
                    "uk.age_total_se_lon*(100*min15.age_under_18/min15.age_profile_total)/uk.age_under_18_se_lon",
                    "uk.age_total_se_lon*(100*min15.age_18to24/min15.age_profile_total)/uk.age_18to24_se_lon",
                    "uk.age_total_se_lon*(100*min15.age_25to29/min15.age_profile_total)/uk.age_25to29_se_lon",
                    "uk.age_total_se_lon*(100*min15.age_30to44/min15.age_profile_total)/uk.age_30to44_se_lon",
                    "uk.age_total_se_lon*(100*min15.age_45to59/min15.age_profile_total)/uk.age_45to59_se_lon",
                    "uk.age_total_se_lon*(100*min15.age_60plus/min15.age_profile_total)/uk.age_60plus_se_lon",
                    "uk.age_total_se_lon*(100*min15.age_profile_total/min15.age_profile_total)/uk.age_total_se_lon"
                  ]
                }
              }
            },
            {
              "type": "tableDefinition",
              "title": "Social Grade",
              "chart": {
                "type": "horizontalBar",
                "active": true,
                "field": "sg_index",
                "backgroundColor": ["#8e24aa", "#1e88e5", "#00897b", "#ff8a65", "#a1887f", "#78909c"]
              },
              "columns": [{
                  "type": "integer",
                  "title": "0-5 mins",
                  "field": "min5",
                  "lookup": {
                    "table_a": "shepherd_neame.sites",
                    "table_b": "gb_hx_1k",
                    "geom_a": "isoline_5min",
                    "geom_b": "geomcntr"
                  }
              },
              "food_bev": {
                  "name": "Competitors",
                  "meta": "Retail Locations 2018",
                  "format": "cluster",
                  "dbs": "XYZ",
                  "qID": "glxid",
                  "table": "shepherd_neame.food_beverage",
                  "cluster_label": "retailer",
                  "infoj": [
                      {
                          "field": "glxid",
                          "label": "Glx ID",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "retailer",
                          "label": "Retailer",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "fascia",
                          "label": "Fascia",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "rlcategory",
                          "label": "Category",
                          "type": "text",
                          "inline": true,
                          "level": 1
                      },
                      {
                          "field": "savgroup",
                          "label": "Group",
                          "type": "text",
                          "inline": true,
                          "level": 1
                      },
                      {
                          "field": "rp_type",
                          "label": "Retail place type",
                          "type": "text",
                          "inline": true
                      },
                      {
                          "field": "address1",
                          "label": "Address",
                          "type": "text"
                      },
                      {
                          "field": "locale_",
                          "type": "text",
                          "level": 1
                      },
                      {
                          "field": "town",
                          "type": "text",
                          "level": 1
                      },
                      {
                          "field": "postcode",
                          "type": "text",
                          "level": 1
                      },
                      {
                          "type": "streetview"
                      }
                  ],
                  "style": {
                      "markerMin": 20,
                      "markerMax": 40,
                      "marker": {
                          "type": "target",
                          "fillColor": "#A2BCE0"
                      },
                      "markerMulti": {
                          "type": "target",
                          "fillColor": "#A2BCE0"
                      },
                      "themes": {
                          "Category": {
                              "label": "Category",
                              "type": "categorized",
                              "field": "rlcategory",
                              "competitors": null,
                              "cat": {
                                  "Restaurants": {
                                      "label": "Restaurants",
                                      "fillColor": "#A51C30",
                                      "layers": {
                                          "0.75": "#F0B67F",
                                          "0.50": "#A51C30"
                                      }
                                  },
                                  "Pubs / Restaurants": {
                                      "label": "Pubs / Restaurants",
                                      "fillColor": "#254E70",
                                      "layers": {
                                          "0.75": "#F0B67F",
                                          "0.50": "#254E70"
                                      }
                                  },
                                  "Bars & Clubs": {
                                      "label": "Bars & Clubs",
                                      "fillColor": "#FF715B",
                                      "layers": {
                                          "0.75": "#EFC9A5",
                                          "0.50": "#FF715B"
                                      }
                                  }
                              }
                          }
                      }
                  }
              },
              "pubs": {
                  "display": true,
                  "name": "Shepherd Neame Pubs",
                  "format": "cluster",
                  "geom": "geom_4326",
                  "dbs": "XYZ",
                  "qID": "id",
                  "table": "shepherd_neame.pub_2019",
                  "cluster_label": "pub_name",
                  "infoj": [
                      {
                          "field": "pub_name",
                          "label": "Pub Name",
                          "type": "text"
                      },
                      {
                          "field": "website",
                          "label": "Website",
                          "type": "text"
                      },
                      {
                          "field": "management_type",
                          "label": "Management Type",
                          "type": "text",
                          "filter": {
                              "in": [
                                  "Tenanted",
                                  "Managed"
                              ]
                          }
                      },
                      {
                          "field": "segment",
                          "label": "Segment",
                          "type": "text",
                          "filter": {
                              "in": [
                                  "Destination Dining",
                                  "Unique Hotels & Inns",
                                  "Great Traditional Pub",
                                  "Your Friendly Local",
                                  "Highstreet Ale House"
                              ]
                          }
                      },
                      {
                          "field": "phone_number",
                          "label": "Phone Number",
                          "type": "text"
                      },
                      {
                          "field": "address",
                          "label": "Address",
                          "type": "text",
                          "filter": "like"
                      },
                      {
                          "label": "Opening Times"
                      },
                      {
                          "field": "sunday",
                          "label": "Sunday",
                          "inline": true,
                          "type": "text"
                      },
                      {
                          "field": "monday",
                          "label": "Monday",
                          "inline": true,
                          "type": "text"
                      },
                      {
                          "field": "tuesday",
                          "label": "Tuesday",
                          "inline": true,
                          "type": "text"
                      },
                      {
                          "field": "wednesday",
                          "label": "Wednesday",
                          "inline": true,
                          "type": "text"
                      },
                      {
                          "field": "thursday",
                          "label": "Thursday",
                          "inline": true,
                          "type": "text"
                      },
                      {
                          "field": "friday",
                          "label": "Friday",
                          "inline": true,
                          "type": "text"
                      },
                      {
                          "field": "saturday",
                          "label": "Saturday",
                          "inline": true,
                          "type": "text"
                      },
                      {
                          "type": "streetview"
                      }
                  ],
                  "style": {
                      "marker": {
                          "type": "target",
                          "fillColor": "#0f0f0f",
                          "layers": {
                              "0.75": "#EEE",
                              "0.50": "#0f0f0f"
                          }
                      },
                      "markerMulti": {
                          "type": "target",
                          "fillColor": "#0f0f0f",
                          "layers": {
                              "0.75": "#EEE",
                              "0.50": "#0f0f0f"
                          }
                      },
                      "themes": {
                          "Management Type": {
                              "label": "Management Type",
                              "type": "categorized",
                              "field": "management_type",
                              "competitors": null,
                              "cat": {
                                  "Managed": {
                                      "label": "Managed",
                                      "fillColor": "#28B463",
                                      "layers": {
                                          "0.75": "#FFFFFF",
                                          "0.50": "#28B463"
                                      }
                                  },
                                  "Tenanted": {
                                      "label": "Tenanted",
                                      "fillColor": "#CB4335",
                                      "layers": {
                                          "0.75": "#FFFFFF",
                                          "0.50": "#CB4335"
                                      }
                                  }
                              }
                          },
                          "Segment": {
                              "label": "Segment",
                              "type": "categorized",
                              "field": "segment_display",
                              "other": true,
                              "cat": {
                                  "Unique Hotels and Inns": {
                                      "label": "Unique Hotels and Inns",
                                      "fillColor": "#48C9B0",
                                      "layers": {
                                          "0.50": "#C94861"
                                      }
                                  },
                                  "Great Traditional Pub": {
                                      "label": "Great Traditional Pub",
                                      "fillColor": "#7D48C9",
                                      "layers": {
                                          "0.50": "#94C948"
                                      }
                                  },
                                  "Highstreet Ale House": {
                                      "label": "Highstreet Ale House",
                                      "fillColor": "#4875C9",
                                      "layers": {
                                          "0.50": "#C99C48"
                                      }
                                  },
                                  "Destination Dining": {
                                      "label": "Destination Dining",
                                      "fillColor": "#88135A",
                                      "layers": {
                                          "0.50": "#5A8813"
                                      }
                                  },
                                  "Your Friendly Local": {
                                      "label": "Your Friendly Local",
                                      "fillColor": "#AF2ECC",
                                      "layers": {
                                          "0.75": "#CCAF2E",
                                          "0.50": "#2ECCAF"
                                      }
                                  }
                              }
                          }
                      }
                  }
                },
                {
                  "type": "integer",
                  "field": "uk",
                  "aspatial": "social_grade_ab_se_lon, social_grade_c1_se_lon, social_grade_c2_se_lon, social_grade_de_se_lon, social_grade_total_se_lon FROM shepherd_neame.report_summary"
                }
              ],
              "rows": [{
                  "field": "sg_ab",
                  "fieldfx": "SUM(ski_ab__11)",
                  "title": "AB"
                },
                {
                  "field": "sg_c1",
                  "fieldfx": "SUM(ski_c1__11)",
                  "title": "C1"
                },
                {
                  "field": "sg_c2",
                  "fieldfx": "SUM(ski_c2__11)",
                  "title": "C2"
                },
                {
                  "field": "sg_de",
                  "fieldfx": "SUM(ski_de__11)",
                  "title": "DE"
                },
                {
                  "field": "sg_total",
                  "fieldfx": "SUM(pop__11)",
                  "title": "Total UK"
                }
              ],
              "agg": {
                "share15": {
                  "title": "% with 15 min",
                  "type": "integer",
                  "rows": [
                    "100*min15.sg_ab/min15.sg_total",
                    "100*min15.sg_c1/min15.sg_total",
                    "100*min15.sg_c2/min15.sg_total",
                    "100*min15.sg_de/min15.sg_total",
                    "100*min15.sg_total/min15.sg_total"
                  ]
                },
                "sg_se_lon_total": {
                  "title": "SE and London",
                  "type": "integer",
                  "rows": [
                    "uk.social_grade_ab_se_lon",
                    "uk.social_grade_c1_se_lon",
                    "uk.social_grade_c2_se_lon",
                    "uk.social_grade_de_se_lon",
                    "uk.social_grade_total_se_lon"
                  ]
                },
                "sg_index": {
                  "title": "Social Grade Index",
                  "type": "integer",
                  "rows": [
                    "uk.social_grade_total_se_lon*(100*min15.sg_ab/min15.sg_total)/uk.social_grade_ab_se_lon",
                    "uk.social_grade_total_se_lon*(100*min15.sg_c1/min15.sg_total)/uk.social_grade_c1_se_lon",
                    "uk.social_grade_total_se_lon*(100*min15.sg_c2/min15.sg_total)/uk.social_grade_c2_se_lon",
                    "uk.social_grade_total_se_lon*(100*min15.sg_de/min15.sg_total)/uk.social_grade_de_se_lon",
                    "uk.social_grade_total_se_lon*(100*min15.sg_total/min15.sg_total)/uk.social_grade_total_se_lon"
                  ]
                }
              }
            },
            {
              "type": "tableDefinition",
              "title": "OAC Profile",
              "columns": [{
                  "type": "integer",
                  "title": "0-5 mins",
                  "field": "min5",
                  "lookup": {
                    "table_a": "shepherd_neame.sites",
                    "table_b": "gb_hx_1k",
                    "geom_a": "isoline_5min",
                    "geom_b": "geomcntr"
                  }
              },
              "sites": {
                  "display": true,
                  "edit": {
                      "properties": true,
                      "point": true,
                      "delete": true
                  },
                  "name": "Sites",
                  "format": "cluster",
                  "geom": "geom_4326",
                  "dbs": "XYZ",
                  "qID": "id",
                  "table": "shepherd_neame.sites",
                  "cluster_label": "pub_name",
                  "infoj": [
                      {
                          "type": "report",
                          "report": {
                              "template": "shneame"
                          }
                      },
                      {
                          "field": "pub_name",
                          "label": "Site Name",
                          "edit": true
                      },
                      {
                          "field": "website",
                          "label": "Website",
                          "edit": true
                      },
                      {
                          "field": "management_type",
                          "label": "Management Type",
                          "edit": {
                              "options": [
                                  "Tenanted",
                                  "Managed"
                              ]
                          }
                      },
                      {
                          "field": "segment",
                          "label": "Segment",
                          "edit": {
                              "options": [
                                  "Destination Dining",
                                  "Unique Hotels & Inns",
                                  "Great Traditional Pub",
                                  "Your Friendly Local",
                                  "Highstreet Ale House"
                              ]
                          }
                      },
                      {
                          "label": "Catchments",
                          "type": "label"
                      },
                      {
                          "field": "isoline_5min",
                          "name": "Catchment 5min",
                          "fieldfx": "ST_asGeoJson(isoline_5min)",
                          "type": "geometry",
                          "style": {
                              "stroke": true,
                              "color": "#BB0A21",
                              "fillColor": "#BB0A21",
                              "weight": 2,
                              "fill": true,
                              "fillOpacity": 0.2
                          }
                      },
                      {
                          "label": "Population within 5min",
                          "type": "group",
                          "chart": {
                              "active": true,
                              "type": "bar",
                              "unit": "k",
                              "backgroundColor": [
                                  "#E6A5AE",
                                  "#E08F9A",
                                  "#D97985",
                                  "#D36371",
                                  "#CD4C5D",
                                  "#C73649",
                                  "#C12035",
                                  "#BB0A21"
                              ],
                              "borderColor": [
                                  "#E6A5AE",
                                  "#E08F9A",
                                  "#D97985",
                                  "#D36371",
                                  "#CD4C5D",
                                  "#C73649",
                                  "#C12035",
                                  "#BB0A21"
                              ]
                          }
                      },
                      {
                          "group": "Population within 5min",
                          "label": "2011",
                          "field": "_pop__11_5min",
                          "fieldfx": "SUM(b.pop__11)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_5min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 5min",
                          "label": "2012",
                          "field": "_pop__12_5min",
                          "fieldfx": "SUM(b.pop__12)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_5min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 5min",
                          "label": "2013",
                          "field": "_pop__13_5min",
                          "fieldfx": "SUM(b.pop__13)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_5min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 5min",
                          "label": "2014",
                          "field": "_pop__14_5min",
                          "fieldfx": "SUM(b.pop__14)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_5min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 5min",
                          "label": "2015",
                          "field": "_pop__15_5min",
                          "fieldfx": "SUM(b.pop__15)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_5min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 5min",
                          "label": "2016",
                          "field": "_pop__16_5min",
                          "fieldfx": "SUM(b.pop__16)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_5min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 5min",
                          "label": "2017",
                          "field": "_pop__17_5min",
                          "fieldfx": "SUM(b.pop__17)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_5min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "field": "isoline_10min",
                          "name": "Catchment 10 min",
                          "fieldfx": "ST_asGeoJson(isoline_10min)",
                          "type": "geometry",
                          "edit": {
                              "isoline_here": {
                                  "minutes": 10
                              }
                          },
                          "style": {
                              "stroke": true,
                              "color": "#F49D37",
                              "fillColor": "#F49D37",
                              "weight": 2,
                              "fill": true,
                              "fillOpacity": 0.2
                          }
                      },
                      {
                          "label": "Population within 10min",
                          "type": "group",
                          "chart": {
                              "active": true,
                              "type": "bar",
                              "unit": "k",
                              "backgroundColor": [
                                  "#FBDBB6",
                                  "#FAD2A4",
                                  "#F9C991",
                                  "#F8C07F",
                                  "#F7B76D",
                                  "#F6AE5B",
                                  "#F5A549",
                                  "#F49D37"
                              ],
                              "borderColor": [
                                  "#FBDBB6",
                                  "#FAD2A4",
                                  "#F9C991",
                                  "#F8C07F",
                                  "#F7B76D",
                                  "#F6AE5B",
                                  "#F5A549",
                                  "#F49D37"
                              ]
                          }
                      },
                      {
                          "group": "Population within 10min",
                          "label": "2011",
                          "field": "_pop__11_10min",
                          "fieldfx": "SUM(b.pop__11)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_10min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 10min",
                          "label": "2012",
                          "field": "_pop__12_10min",
                          "fieldfx": "SUM(b.pop__12)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_10min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 10min",
                          "label": "2013",
                          "field": "_pop__13_10min",
                          "fieldfx": "SUM(b.pop__13)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_10min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 10min",
                          "label": "2014",
                          "field": "_pop__14_10min",
                          "fieldfx": "SUM(b.pop__14)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_10min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 10min",
                          "label": "2015",
                          "field": "_pop__15_10min",
                          "fieldfx": "SUM(b.pop__15)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_10min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 10min",
                          "label": "2016",
                          "field": "_pop__16_10min",
                          "fieldfx": "SUM(b.pop__16)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_10min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 10min",
                          "label": "2017",
                          "field": "_pop__17_10min",
                          "fieldfx": "SUM(b.pop__17)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_10min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "field": "isoline_15min",
                          "name": "Catchment 15 min",
                          "fieldfx": "ST_asGeoJson(isoline_15min)",
                          "type": "geometry",
                          "edit": {
                              "isoline_here": {
                                  "minutes": 15
                              }
                          },
                          "style": {
                              "stroke": true,
                              "color": "#FFF05A",
                              "fillColor": "#FFF05A",
                              "weight": 2,
                              "fill": true,
                              "fillOpacity": 0.2
                          }
                      },
                      {
                          "label": "Population within 15min",
                          "type": "group",
                          "chart": {
                              "active": true,
                              "type": "bar",
                              "unit": "k",
                              "backgroundColor": [
                                  "#FFF9C3",
                                  "#FFF8B4",
                                  "#FFF6A5",
                                  "#FFF596",
                                  "#FFF487",
                                  "#FFF278",
                                  "#FFF169",
                                  "#FFF05A"
                              ],
                              "borderColor": [
                                  "#FFF9C3",
                                  "#FFF8B4",
                                  "#FFF6A5",
                                  "#FFF596",
                                  "#FFF487",
                                  "#FFF278",
                                  "#FFF169",
                                  "#FFF05A"
                              ]
                          }
                      },
                      {
                          "group": "Population within 15min",
                          "label": "2011",
                          "field": "_pop__11_15min",
                          "fieldfx": "SUM(b.pop__11)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_15min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 15min",
                          "label": "2012",
                          "field": "_pop__12_15min",
                          "fieldfx": "SUM(b.pop__12)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_15min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 15min",
                          "label": "2013",
                          "field": "_pop__13_15min",
                          "fieldfx": "SUM(b.pop__13)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_15min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 15min",
                          "label": "2014",
                          "field": "_pop__14_15min",
                          "fieldfx": "SUM(b.pop__14)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_15min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 15min",
                          "label": "2015",
                          "field": "_pop__15_15min",
                          "fieldfx": "SUM(b.pop__15)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_15min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 15min",
                          "label": "2016",
                          "field": "_pop__16_15min",
                          "fieldfx": "SUM(b.pop__16)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_15min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "group": "Population within 15min",
                          "label": "2017",
                          "field": "_pop__17_15min",
                          "fieldfx": "SUM(b.pop__17)",
                          "level": 1,
                          "type": "integer",
                          "lookup": {
                              "table_a": "shepherd_neame.sites",
                              "table_b": "gb_hx_1k",
                              "geom_a": "isoline_15min",
                              "geom_b": "geomcntr"
                          }
                      },
                      {
                          "field": "comments",
                          "label": "Comments",
                          "type": "textarea",
                          "edit": true
                      },
                      {
                          "field": "edited",
                          "label": "Edited on",
                          "type": "datetime"
                      },
                      {
                          "label": "Available tableviews",
                          "type": "label",
                          "hideInReport": true
                      },
                      {
                          "type": "tableDefinition",
                          "title": "Population Summary",
                          "target_id": "xyz_table1",
                          "display": true,
                          "columns": [
                              {
                                  "type": "integer",
                                  "title": "0-5 mins",
                                  "field": "min5",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_5min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "type": "integer",
                                  "title": "0-10 mins",
                                  "field": "min10",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_10min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "type": "integer",
                                  "title": "0-15 mins",
                                  "field": "min15",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_15min",
                                      "geom_b": "geomcntr"
                                  }
                              }
                          ],
                          "rows": [
                              {
                                  "field": "pop__17",
                                  "fieldfx": "SUM(b.pop__17)",
                                  "title": "Current Population"
                              },
                              {
                                  "field": "pop__11",
                                  "fieldfx": "SUM(b.pop__11)",
                                  "title": "Population 2011"
                              },
                              {
                                  "field": "pop_growth",
                                  "fieldfx": "SUM(b.pop__17 - b.pop__11) * 100 / SUM(b.pop__11)",
                                  "title": "Population Growth"
                              },
                              {
                                  "field": "students",
                                  "fieldfx": "SUM(eac_student__11) + SUM(ein_student__11)",
                                  "title": "Students"
                              },
                              {
                                  "field": "non_white",
                                  "fieldfx": "100*(SUM(pop__11) - SUM(ret_white_tot__11))/SUM(pop__11)",
                                  "title": "% Non-White"
                              },
                              {
                                  "field": "own_home",
                                  "fieldfx": "100*SUM(own)/SUM(own+rent+social)",
                                  "title": "Own Home"
                              },
                              {
                                  "field": "private_rented",
                                  "fieldfx": "100*SUM(rent)/SUM(own+rent+social)",
                                  "title": "Private Rented"
                              },
                              {
                                  "field": "social_rented",
                                  "fieldfx": "100*SUM(social)/SUM(own+rent+social)",
                                  "title": "Social Rented"
                              },
                              {
                                  "field": "single_hhds",
                                  "fieldfx": "100*SUM(pers1hhd)/SUM(pers1hhd+pers2hhd+pers2plushhd)",
                                  "title": "Single Hhds"
                              },
                              {
                                  "field": "hhds_two_ppl",
                                  "fieldfx": "100*SUM(pers2hhd)/SUM(pers1hhd+pers2hhd+pers2plushhd)",
                                  "title": "2 Person Hhds"
                              },
                              {
                                  "field": "hhds_3plus",
                                  "fieldfx": "100*SUM(pers2plushhd)/SUM(pers1hhd+pers2hhd+pers2plushhd)",
                                  "title": "3+ Hhds"
                              }
                          ]
                      },
                      {
                          "type": "tableDefinition",
                          "display": true,
                          "target_id": "xyz_table2",
                          "title": "Age Profile",
                          "chart": {
                              "type": "horizontalBar",
                              "active": true,
                              "field": "age_index"
                          },
                          "columns": [
                              {
                                  "type": "integer",
                                  "title": "0-5 mins",
                                  "field": "min5",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_5min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "type": "integer",
                                  "title": "0-10 mins",
                                  "field": "min10",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_10min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "type": "integer",
                                  "title": "0-15 mins",
                                  "field": "min15",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_15min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "field": "uk",
                                  "aspatial": "age_under_18_se_lon, age_18to24_se_lon, age_25to29_se_lon, age_30to44_se_lon, age_45to59_se_lon, age_60plus_se_lon, age_total_se_lon FROM shepherd_neame.report_summary"
                              }
                          ],
                          "rows": [
                              {
                                  "field": "age_under_18",
                                  "title": "< 18",
                                  "fieldfx": "SUM(pop__11 - age_18to19__11 - age_20to24__11 - age_25to29__11 - age_30to44__11 - age_45to59__11 - age60plus)"
                              },
                              {
                                  "field": "age_18to24",
                                  "fieldfx": "SUM(age_18to19__11 + age_20to24__11)",
                                  "title": "18 to 24"
                              },
                              {
                                  "field": "age_25to29",
                                  "fieldfx": "SUM(age_25to29__11)",
                                  "title": "25 to 29"
                              },
                              {
                                  "field": "age_30to44",
                                  "fieldfx": "SUM(age_30to44__11)",
                                  "title": "30 to 44"
                              },
                              {
                                  "field": "age_45to59",
                                  "fieldfx": "SUM(age_45to59__11)",
                                  "title": "45 to 59"
                              },
                              {
                                  "field": "age_60plus",
                                  "fieldfx": "SUM(age60plus)",
                                  "title": "60+"
                              },
                              {
                                  "field": "age_profile_total",
                                  "fieldfx": "SUM(pop__11)",
                                  "title": "Total UK"
                              }
                          ],
                          "agg": {
                              "share15": {
                                  "title": "% with 15 min",
                                  "type": "integer",
                                  "rows": [
                                      "100*min15.age_under_18/min15.age_profile_total",
                                      "100*min15.age_18to24/min15.age_profile_total",
                                      "100*min15.age_25to29/min15.age_profile_total",
                                      "100*min15.age_30to44/min15.age_profile_total",
                                      "100*min15.age_45to59/min15.age_profile_total",
                                      "100*min15.age_60plus/min15.age_profile_total",
                                      "100*min15.age_profile_total/min15.age_profile_total"
                                  ]
                              },
                              "age_se_lon_total": {
                                  "title": "SE and London",
                                  "type": "integer",
                                  "rows": [
                                      "uk.age_under_18_se_lon",
                                      "uk.age_18to24_se_lon",
                                      "uk.age_25to29_se_lon",
                                      "uk.age_30to44_se_lon",
                                      "uk.age_45to59_se_lon",
                                      "uk.age_60plus_se_lon",
                                      "uk.age_total_se_lon"
                                  ]
                              },
                              "age_index": {
                                  "title": "Age Profile Index",
                                  "type": "numeric(1000, 2)",
                                  "rows": [
                                      "uk.age_total_se_lon*(100*min15.age_under_18/min15.age_profile_total)/uk.age_under_18_se_lon",
                                      "uk.age_total_se_lon*(100*min15.age_18to24/min15.age_profile_total)/uk.age_18to24_se_lon",
                                      "uk.age_total_se_lon*(100*min15.age_25to29/min15.age_profile_total)/uk.age_25to29_se_lon",
                                      "uk.age_total_se_lon*(100*min15.age_30to44/min15.age_profile_total)/uk.age_30to44_se_lon",
                                      "uk.age_total_se_lon*(100*min15.age_45to59/min15.age_profile_total)/uk.age_45to59_se_lon",
                                      "uk.age_total_se_lon*(100*min15.age_60plus/min15.age_profile_total)/uk.age_60plus_se_lon",
                                      "uk.age_total_se_lon*(100*min15.age_profile_total/min15.age_profile_total)/uk.age_total_se_lon"
                                  ]
                              }
                          }
                      },
                      {
                          "type": "tableDefinition",
                          "title": "Social Grade",
                          "target_id": "xyz_table3",
                          "chart": {
                              "type": "horizontalBar",
                              "active": true,
                              "field": "sg_index",
                              "backgroundColor": [
                                  "#8e24aa",
                                  "#1e88e5",
                                  "#00897b",
                                  "#ff8a65",
                                  "#a1887f",
                                  "#78909c"
                              ]
                          },
                          "columns": [
                              {
                                  "type": "integer",
                                  "title": "0-5 mins",
                                  "field": "min5",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_5min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "type": "integer",
                                  "title": "0-10 mins",
                                  "field": "min10",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_10min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "type": "integer",
                                  "title": "0-15 mins",
                                  "field": "min15",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_15min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "type": "integer",
                                  "field": "uk",
                                  "aspatial": "social_grade_ab_se_lon, social_grade_c1_se_lon, social_grade_c2_se_lon, social_grade_de_se_lon, social_grade_total_se_lon FROM shepherd_neame.report_summary"
                              }
                          ],
                          "rows": [
                              {
                                  "field": "sg_ab",
                                  "fieldfx": "SUM(ski_ab__11)",
                                  "title": "AB"
                              },
                              {
                                  "field": "sg_c1",
                                  "fieldfx": "SUM(ski_c1__11)",
                                  "title": "C1"
                              },
                              {
                                  "field": "sg_c2",
                                  "fieldfx": "SUM(ski_c2__11)",
                                  "title": "C2"
                              },
                              {
                                  "field": "sg_de",
                                  "fieldfx": "SUM(ski_de__11)",
                                  "title": "DE"
                              },
                              {
                                  "field": "sg_total",
                                  "fieldfx": "SUM(pop__11)",
                                  "title": "Total UK"
                              }
                          ],
                          "agg": {
                              "share15": {
                                  "title": "% with 15 min",
                                  "type": "integer",
                                  "rows": [
                                      "100*min15.sg_ab/min15.sg_total",
                                      "100*min15.sg_c1/min15.sg_total",
                                      "100*min15.sg_c2/min15.sg_total",
                                      "100*min15.sg_de/min15.sg_total",
                                      "100*min15.sg_total/min15.sg_total"
                                  ]
                              },
                              "sg_se_lon_total": {
                                  "title": "SE and London",
                                  "type": "integer",
                                  "rows": [
                                      "uk.social_grade_ab_se_lon",
                                      "uk.social_grade_c1_se_lon",
                                      "uk.social_grade_c2_se_lon",
                                      "uk.social_grade_de_se_lon",
                                      "uk.social_grade_total_se_lon"
                                  ]
                              },
                              "sg_index": {
                                  "title": "Social Grade Index",
                                  "type": "integer",
                                  "rows": [
                                      "uk.social_grade_total_se_lon*(100*min15.sg_ab/min15.sg_total)/uk.social_grade_ab_se_lon",
                                      "uk.social_grade_total_se_lon*(100*min15.sg_c1/min15.sg_total)/uk.social_grade_c1_se_lon",
                                      "uk.social_grade_total_se_lon*(100*min15.sg_c2/min15.sg_total)/uk.social_grade_c2_se_lon",
                                      "uk.social_grade_total_se_lon*(100*min15.sg_de/min15.sg_total)/uk.social_grade_de_se_lon",
                                      "uk.social_grade_total_se_lon*(100*min15.sg_total/min15.sg_total)/uk.social_grade_total_se_lon"
                                  ]
                              }
                          }
                      },
                      {
                          "type": "tableDefinition",
                          "title": "OAC Profile",
                          "target_id": "xyz_table4",
                          "columns": [
                              {
                                  "type": "integer",
                                  "title": "0-5 mins",
                                  "field": "min5",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_5min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "type": "integer",
                                  "title": "0-10 mins",
                                  "field": "min10",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_10min",
                                      "geom_b": "geomcntr"
                                  }
                              },
                              {
                                  "type": "integer",
                                  "title": "0-15 mins",
                                  "field": "min15",
                                  "lookup": {
                                      "table_a": "shepherd_neame.sites",
                                      "table_b": "gb_hx_1k",
                                      "geom_a": "isoline_15min",
                                      "geom_b": "geomcntr"
                                  }
                              }
                          ],
                          "rows": [
                              {
                                  "field": "oac_1a",
                                  "fieldfx": "SUM(CASE WHEN oac_group=1 THEN pop__17 ELSE 0 END)",
                                  "title": "1a - Farming communities"
                              },
                              {
                                  "field": "oac_1b",
                                  "fieldfx": "sum(case when oac_group=2 then pop__17 else 0 end)",
                                  "title": "1b - Rural tenants"
                              },
                              {
                                  "field": "oac_1c",
                                  "fieldfx": "sum(case when oac_group=3 then pop__17 else 0 end)",
                                  "title": "1c - Ageing rural dwellers"
                              },
                              {
                                  "field": "oac_2a",
                                  "fieldfx": "sum(case when oac_group=3 then pop__17 else 0 end)",
                                  "title": "2a - Students around campus"
                              },
                              {
                                  "field": "oac_2b",
                                  "fieldfx": "sum(case when oac_group=4 then pop__17 else 0 end)",
                                  "title": "2b - Inner city students"
                              },
                              {
                                  "field": "oac_2c",
                                  "fieldfx": "sum(case when oac_group=5 then pop__17 else 0 end)",
                                  "title": "2c - Comforable cosmopolitans"
                              },
                              {
                                  "field": "oac_2d",
                                  "fieldfx": "sum(case when oac_group=6 then pop__17 else 0 end)",
                                  "title": "2d - Aspiring and affluent"
                              },
                              {
                                  "field": "oac_3a",
                                  "fieldfx": "sum(case when oac_group=7 then pop__17 else 0 end)",
                                  "title": "3a - Ethnic family life"
                              },
                              {
                                  "field": "oac_3b",
                                  "fieldfx": "sum(case when oac_group=8 then pop__17 else 0 end)",
                                  "title": "3b - Endeavouring ethnic mix"
                              },
                              {
                                  "field": "oac_3c",
                                  "fieldfx": "sum(case when oac_group=9 then pop__17 else 0 end)",
                                  "title": "3c - Ethnic dynamics"
                              },
                              {
                                  "field": "oac_3d",
                                  "fieldfx": "sum(case when oac_group=10 then pop__17 else 0 end)",
                                  "title": "3d - Aspirational techies"
                              },
                              {
                                  "field": "oac_4a",
                                  "fieldfx": "sum(case when oac_group=11 then pop__17 else 0 end)",
                                  "title": "4a - Rented family living"
                              },
                              {
                                  "field": "oac_4b",
                                  "fieldfx": "sum(case when oac_group=13 then pop__17 else 0 end)",
                                  "title": "4b - Challenged Asian terraces"
                              },
                              {
                                  "field": "oac_4c",
                                  "fieldfx": "sum(case when oac_group=14 then pop__17 else 0 end)",
                                  "title": "4c - Asian traits"
                              },
                              {
                                  "field": "oac_5a",
                                  "fieldfx": "sum(case when oac_group=15 then pop__17 else 0 end)",
                                  "title": "5a - Urban professionals and families"
                              },
                              {
                                  "field": "oac_5b",
                                  "fieldfx": "sum(case when oac_group=16 then pop__17 else 0 end)",
                                  "title": "5b - Ageing urban living"
                              },
                              {
                                  "field": "oac_6a",
                                  "fieldfx": "sum(case when oac_group=17 then pop__17 else 0 end)",
                                  "title": "6a - Suburban achievers"
                              },
                              {
                                  "field": "oac_6b",
                                  "fieldfx": "sum(case when oac_group=18 then pop__17 else 0 end)",
                                  "title": "6b - Semi-detached suburbia"
                              },
                              {
                                  "field": "oac_7a",
                                  "fieldfx": "sum(case when oac_group=19 then pop__17 else 0 end)",
                                  "title": "7a - Challenged diversity"
                              },
                              {
                                  "field": "oac_7b",
                                  "fieldfx": "sum(case when oac_group=20 then pop__17 else 0 end)",
                                  "title": "7b - Constrained flat dwellers"
                              },
                              {
                                  "field": "oac_7c",
                                  "fieldfx": "sum(case when oac_group=21 then pop__17 else 0 end)",
                                  "title": "7c - White communities"
                              },
                              {
                                  "field": "oac_7d",
                                  "fieldfx": "sum(case when oac_group=22 then pop__17 else 0 end)",
                                  "title": "7d - Ageing city dwellers"
                              },
                              {
                                  "field": "oac_8a",
                                  "fieldfx": "sum(case when oac_group=23 then pop__17 else 0 end)",
                                  "title": "8a - Industrious communities"
                              },
                              {
                                  "field": "oac_8b",
                                  "fieldfx": "sum(case when oac_group=24 then pop__17 else 0 end)",
                                  "title": "8b - Challenged terraced workers"
                              },
                              {
                                  "field": "oac_8c",
                                  "fieldfx": "sum(case when oac_group=25 then pop__17 else 0 end)",
                                  "title": "8c - Hard-pressed ageing workers"
                              },
                              {
                                  "field": "oac_8d",
                                  "fieldfx": "sum(case when oac_group=26 then pop__17 else 0 end)",
                                  "title": "8d - Migration and churn"
                              },
                              {
                                  "field": "oac_total",
                                  "fieldfx": "sum(case when oac_group>0 then pop__17 else 0 end)",
                                  "title": "Total"
                              }
                          ]
                      },
                      {
                          "label": "Images",
                          "field": "images",
                          "type": "images",
                          "edit": true
                      },
                      {
                          "label": "Streetview",
                          "type": "streetview"
                      }
                  ],
                  "style": {
                      "marker": {
                          "type": "target",
                          "fillColor": "#2364AA",
                          "layers": {
                              "0.75": "#EEE",
                              "0.50": "#2364AA"
                          }
                      },
                      "markerMulti": {
                          "type": "target",
                          "fillColor": "#2364AA",
                          "layers": {
                              "0.75": "#EEE",
                              "0.50": "#2364AA"
                          }
                      }
                  }
                },
                {
                  "type": "integer",
                  "title": "0-15 mins",
                  "field": "min15",
                  "lookup": {
                    "table_a": "shepherd_neame.sites",
                    "table_b": "gb_hx_1k",
                    "geom_a": "isoline_15min",
                    "geom_b": "geomcntr"
                  }
                }
              ],
              "rows": [{
                  "field": "oac_1a",
                  "fieldfx": "SUM(CASE WHEN oac_group=1 THEN pop__17 ELSE 0 END)",
                  "title": "1a - Farming communities"
                },
                {
                  "field": "oac_1b",
                  "fieldfx": "sum(case when oac_group=2 then pop__17 else 0 end)",
                  "title": "1b - Rural tenants"
                },
                {
                  "field": "oac_1c",
                  "fieldfx": "sum(case when oac_group=3 then pop__17 else 0 end)",
                  "title": "1c - Ageing rural dwellers"
                },
                {
                  "field": "oac_2a",
                  "fieldfx": "sum(case when oac_group=3 then pop__17 else 0 end)",
                  "title": "2a - Students around campus"
                },
                {
                  "field": "oac_2b",
                  "fieldfx": "sum(case when oac_group=4 then pop__17 else 0 end)",
                  "title": "2b - Inner city students"
                },
                {
                  "field": "oac_2c",
                  "fieldfx": "sum(case when oac_group=5 then pop__17 else 0 end)",
                  "title": "2c - Comforable cosmopolitans"
                },
                {
                  "field": "oac_2d",
                  "fieldfx": "sum(case when oac_group=6 then pop__17 else 0 end)",
                  "title": "2d - Aspiring and affluent"
                },
                {
                  "field": "oac_3a",
                  "fieldfx": "sum(case when oac_group=7 then pop__17 else 0 end)",
                  "title": "3a - Ethnic family life"
                },
                {
                  "field": "oac_3b",
                  "fieldfx": "sum(case when oac_group=8 then pop__17 else 0 end)",
                  "title": "3b - Endeavouring ethnic mix"
                },
                {
                  "field": "oac_3c",
                  "fieldfx": "sum(case when oac_group=9 then pop__17 else 0 end)",
                  "title": "3c - Ethnic dynamics"
                },
                {
                  "field": "oac_3d",
                  "fieldfx": "sum(case when oac_group=10 then pop__17 else 0 end)",
                  "title": "3d - Aspirational techies"
                },
                {
                  "field": "oac_4a",
                  "fieldfx": "sum(case when oac_group=11 then pop__17 else 0 end)",
                  "title": "4a - Rented family living"
                },
                {
                  "field": "oac_4b",
                  "fieldfx": "sum(case when oac_group=13 then pop__17 else 0 end)",
                  "title": "4b - Challenged Asian terraces"
                },
                {
                  "field": "oac_4c",
                  "fieldfx": "sum(case when oac_group=14 then pop__17 else 0 end)",
                  "title": "4c - Asian traits"
                },
                {
                  "field": "oac_5a",
                  "fieldfx": "sum(case when oac_group=15 then pop__17 else 0 end)",
                  "title": "5a - Urban professionals and families"
                },
                {
                  "field": "oac_5b",
                  "fieldfx": "sum(case when oac_group=16 then pop__17 else 0 end)",
                  "title": "5b - Ageing urban living"
                },
                {
                  "field": "oac_6a",
                  "fieldfx": "sum(case when oac_group=17 then pop__17 else 0 end)",
                  "title": "6a - Suburban achievers"
                },
                {
                  "field": "oac_6b",
                  "fieldfx": "sum(case when oac_group=18 then pop__17 else 0 end)",
                  "title": "6b - Semi-detached suburbia"
                },
                {
                  "field": "oac_7a",
                  "fieldfx": "sum(case when oac_group=19 then pop__17 else 0 end)",
                  "title": "7a - Challenged diversity"
                },
                {
                  "field": "oac_7b",
                  "fieldfx": "sum(case when oac_group=20 then pop__17 else 0 end)",
                  "title": "7b - Constrained flat dwellers"
                },
                {
                  "field": "oac_7c",
                  "fieldfx": "sum(case when oac_group=21 then pop__17 else 0 end)",
                  "title": "7c - White communities"
                },
                {
                  "field": "oac_7d",
                  "fieldfx": "sum(case when oac_group=22 then pop__17 else 0 end)",
                  "title": "7d - Ageing city dwellers"
                },
                {
                  "field": "oac_8a",
                  "fieldfx": "sum(case when oac_group=23 then pop__17 else 0 end)",
                  "title": "8a - Industrious communities"
                },
                {
                  "field": "oac_8b",
                  "fieldfx": "sum(case when oac_group=24 then pop__17 else 0 end)",
                  "title": "8b - Challenged terraced workers"
                },
                {
                  "field": "oac_8c",
                  "fieldfx": "sum(case when oac_group=25 then pop__17 else 0 end)",
                  "title": "8c - Hard-pressed ageing workers"
                },
                {
                  "field": "oac_8d",
                  "fieldfx": "sum(case when oac_group=26 then pop__17 else 0 end)",
                  "title": "8d - Migration and churn"
                },
                {
                  "field": "oac_total",
                  "fieldfx": "sum(case when oac_group>0 then pop__17 else 0 end)",
                  "title": "Total UK"
                }
              ]
            },
            {
              "type": "report",
              "report": {
                "template": "shneame"
              }
            }
          ]
        },
        "costa_stores": {
          "display": true,
          "name": "Costa Stores",
          "format": "cluster",
          "dbs": "XYZ",
          "table": "costa.store_estate_view",
          "geom": "geom_4326",
          "cluster_label": "name",
          "cluster_kmeans": 0.2,
          "cluster_dbscan": 0.012,
          "qID": "storeid",
          "infoj": [{
              "label": "Details",
              "type": "group"
            },
            {
              "field": "name",
              "label": "Store Name",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "government",
              "label": "Government",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "london_zone",
              "label": "London Zone",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "caz_split",
              "label": "Split",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "status",
              "label": "Status",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "equity_franchise",
              "label": "Equity/Franchise",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "status_2018_2019",
              "label": "Status 2018/2019",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "channel_split",
              "label": "Channel Split",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "detail_split",
              "label": "Detail Split",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "region",
              "label": "Region",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "rp_type",
              "label": "Retail Point Type",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "field": "hybrid_channel",
              "label": "Hybrid Channel",
              "type": "text",
              "group": "Details",
              "inline": true
            },
            {
              "label": "Financials",
              "type": "group"
            },
            {
              "field": "sales_actual",
              "label": "Actual Sales",
              "group": "Financials",
              "type": "integer",
              "inline": true
            },
            {
              "field": "sales_model",
              "label": "Modelled Sales",
              "group": "Financials",
              "type": "integer",
              "inline": true
            },
            {
              "field": "sales_par",
              "label": "PAR",
              "group": "Financials",
              "type": "integer",
              "inline": true
            },
            {
              "field": "error_par",
              "label": "Relative Error of PAR",
              "group": "Financials",
              "type": "integer",
              "inline": true
            },
            {
              "label": "Sales",
              "type": "group",
              "chart": {
                "active": true,
                "x": "label x",
                "y": "label y",
                "type": "bar",
                "backgroundColor": ["#FFA630", "#C6DEA6"],
                "borderColor": ["#FFA630", "#C6DEA6"],
                "stacks": ["Actual Sales", "Model Sales"]
              }
            },
            {
              "group": "Sales",
              "label": "Eat In Weekday",
              "title": "Eat In Leaisurley Weekday Treat (Actual Sales)",
              "field": "actual_sales_eat_in_leisurely_weekday_treat",
              "type": "integer",
              "stack": "Actual Sales"
            },
            {
              "group": "Sales",
              "label": "Takeaway Weekend",
              "title": "Takeaway Weekend Lunch (Actual Sales)",
              "field": "actual_sales_takeaway_weekend_lunch",
              "type": "integer",
              "stack": "Actual Sales"
            },
            {
              "group": "Sales",
              "label": "Eat In Weekday",
              "title": "Eat In Leisurley Weekday Treat (Model Sales)",
              "field": "model_sale_eat_in_leisurely_weekday_treat",
              "type": "integer",
              "stack": "Model Sales"
            },
            {
              "group": "Sales",
              "label": "Takeaway Weekend",
              "title": "Takeaway Weekend Lunch (Model Sales)",
              "field": "model_sale_takeaway_weekend_lunch",
              "type": "integer",
              "stack": "Model Sales"
            },
            {
              "type": "streetview"
            }
          ],
          "style": {
            "marker": {
              "type": "target",
              "fillColor": "#8f0a31",
              "layers": {
                "0.75": "#ffffff",
                "0.50": "#4f1823"
              }
            },
            "markerMulti": {
              "type": "target",
              "fillColor": "#8f0a31"
            },
            "themes": {
              "Hybrid Channel": {
                "label": "Hybrid Channel",
                "type": "categorized",
                "field": "hybrid_channel",
                "other": true,
                "cat": {
                  "concession": {
                    "label": "Concession",
                    "fillColor": "#4286f4",
                    "layers": {
                      "0.75": "#FFF"
                    }
                  },
                  "secondary_centre": {
                    "label": "Secondary Centre",
                    "fillColor": "#28B463",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "drive_thru": {
                    "label": "Drive Thru",
                    "fillColor": "#76D7C4",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "rail": {
                    "label": "Rail",
                    "fillColor": "#DAF7A6",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "airport": {
                    "label": "Airport",
                    "fillColor": "#F4D03F",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "caz_business": {
                    "label": "Caz Business",
                    "fillColor": "#7D3C98",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "tertiary_centre": {
                    "label": "Tertiary Centre",
                    "fillColor": "#99A3A4",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "primary_centre": {
                    "label": "Primary Centre",
                    "fillColor": "#EDBB99",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "retail_park_main": {
                    "label": "Retail Park Main",
                    "fillColor": "#2471A3",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "controlled_access": {
                    "label": "Controlled Access",
                    "fillColor": "#1ABC9C",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "retail_park_local": {
                    "label": "Retail Park Local",
                    "fillColor": "#F5B7B1",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "outlet_centre": {
                    "label": "Outlet Centre",
                    "fillColor": "#17202A",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  },
                  "shopping_centre": {
                    "label": "Shopping Centre",
                    "fillColor": "#F9E79F",
                    "layers": {
                      "0.50": "#FFF"
                    }
                  }
                }
              }
            }
          }
        }
      }
  }
}