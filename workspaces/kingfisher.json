{
    "title": "GEOLYTIX | Kingfisher",
    "select": {},
    "gazetteer": {},
    "report": {},
    "locales": {
        "Europe": {
            "gazetteer": [
                "MAPBOX",
                "",
                "",
                "e.g. London"
            ],
            "bounds": [[41,-13],[60,22]],
            "minZoom": 3,
            "maxZoom": 16,
            "layers": {
                "base": {
                    "display": true,
                    "name": "Mapbox Baselayer",
                    "attribution": ["mapbox", "osm"],
                    "pane": ["base", 500],
                    "format": "tiles",
                    "URI" : "https://api.mapbox.com/styles/v1/dbauszus/ciozrimi3002bdsm8bjtn2v1y/tiles/256/{z}/{x}/{y}?",
                    "provider": "MAPBOX"
                },
                "label": {
                    "display": true,
                    "name": "Mapbox Labels",
                    "attribution": ["mapbox", "osm"],
                    "pane": ["base_labels", 550],
                    "format": "tiles",
                    "URI" : "https://api.mapbox.com/styles/v1/dbauszus/cj9puo8pr5o0c2sovhdwhkc7z/tiles/256/{z}/{x}/{y}?",
                    "provider": "MAPBOX"
                },
                "here": {
                    "name": "HERE Imagery",
                    "attribution": ["here"],
                    "meta": "Satellite Imagery layer provided by HERE.",
                    "pane": ["base", 500],
                    "format": "tiles",
                    "URI" : "https://1.aerial.maps.api.here.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?",
                    "provider": "HERE"
                },
                "sprawls": {
                    "name": "Cities",
                    "meta": "Urban agglomerations with a population greater than 100,000.",
                    "pane": [
                        "bounds",
                        510
                    ],
                    "format": "mvt",
                    "dbs": "XYZ",
                    "geom_3857": "geom_3857",
                    "qID": "id",
                    "arrayZoom": {
                        "3": "glx_cities_of_the_world"
                    },
                    "tilecache": "glx_cities_of_the_world__tc",
                    "properties": "pop_density",
                    "infoj": [
                        {
                            "field": "nameascii",
                            "label": "City",
                            "type": "text",
                            "filter": "like"
                        },
                        {
                            "field": "sov0name",
                            "label": "Country",
                            "type": "text"
                        },
                        {
                            "field": "pop_max",
                            "label": "Population (max)",
                            "type": "integer"
                        },
                        {
                            "field": "pop_min",
                            "label": "Population (min)",
                            "type": "integer"
                        },
                        {
                            "field": "area",
                            "label": "Area (km2)",
                            "type": "numeric"
                        },
                        {
                            "field": "pop_density",
                            "label": "Density",
                            "type": "numeric"
                        }
                    ],
                    "style": {
                        "default": {
                            "weight": 1,
                            "color": "#000",
                            "fill": true,
                            "fillColor": "#000",
                            "fillOpacity": 0.3
                        },
                        "highlight": {
                            "color": "#e91e63",
                            "fill": true,
                            "fillOpacity": 0
                        },
                        "themes": [{
                            "label": "Population Density",
                            "type": "graduated",
                            "field": "pop_density",
                            "applied": true,
                            "other": true,
                            "cat": [
                                {
                                    "val": 5000,
                                    "label": "up to 5,000 per km2 square",
                                    "style": {
                                        "weight": 1,
                                        "color": "#bcdf27",
                                        "opacity": 1,
                                        "fillColor": "#fde725",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 10000,
                                    "label": "10,000",
                                    "style": {
                                        "weight": 1,
                                        "color": "#7ad251",
                                        "opacity": 1,
                                        "fillColor": "#bcdf27",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 15000,
                                    "label": "15,000",
                                    "style": {
                                        "weight": 1,
                                        "color": "#43bf70",
                                        "opacity": 1,
                                        "fillColor": "#7ad251",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 20000,
                                    "label": "20,000",
                                    "style": {
                                        "weight": 1,
                                        "color": "#22a884",
                                        "opacity": 1,
                                        "fillColor": "#43bf70",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 25000,
                                    "label": "25,000",
                                    "style": {
                                        "weight": 1,
                                        "color": "#20908d",
                                        "opacity": 1,
                                        "fillColor": "#22a884",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 30000,
                                    "label": "30,000",
                                    "style": {
                                        "weight": 1,
                                        "color": "#29788e",
                                        "opacity": 1,
                                        "fillColor": "#20908d",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 35000,
                                    "label": "35,000",
                                    "style": {
                                        "weight": 1,
                                        "color": "#345f8d",
                                        "opacity": 1,
                                        "fillColor": "#29788e",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 40000,
                                    "label": "40,000",
                                    "style": {
                                        "weight": 1,
                                        "color": "#404387",
                                        "opacity": 1,
                                        "fillColor": "#345f8d",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 45000,
                                    "label": "45,000",
                                    "style": {
                                        "weight": 1,
                                        "color": "#482475",
                                        "opacity": 1,
                                        "fillColor": "#404387",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 50000,
                                    "label": "50,000",
                                    "style": {
                                        "weight": 1,
                                        "color": "#440154",
                                        "opacity": 1,
                                        "fillColor": "#482475",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                },
                                {
                                    "val": 1000000,
                                    "label": "50,000 or more",
                                    "style": {
                                        "weight": 1,
                                        "color": "#000",
                                        "opacity": 1,
                                        "fillColor": "#440154",
                                        "fill": true,
                                        "fillOpacity": 0.3
                                    }
                                }
                            ]
                        }]
                    }
                },
                "stores": {
                    "display": true,
                    "name": "Kingfisher Stores",
                    "pane": ["stores", 540],
                    "properties": "brand",
                    "format": "cluster",
                    "dbs": "KFR",
                    "qID": "store_id",
                    "table": "stores",
                    "geom": "geom_4326",
                    "cluster_label": "store_label",
                    "cluster_cat": "store_name",
                    "streetview": true,
                    "aggregate_layer": "kingfisher_scratch",
                    "infoj": [
                        {
                            "field": "store_id",
                            "label": "ID",
                            "type": "text",
                            "inline": true
                        },
                        {
                            "field": "store_name",
                            "label": "Name",
                            "type": "text",
                            "inline": true
                        },
                        {
                            "field": "store_label",
                            "label": "Fascia",
                            "type": "text",
                            "inline": true
                        },
                        {
                            "field": "store_own_flag",
                            "label": "Own store",
                            "type": "text",
                            "inline": true
                        },
                        {
                            "label": "Address"
                        },
                        {
                            "field": "store_town",
                            "label": "Town",
                            "type": "text",
                            "filter": "like",
                            "inline": true
                        },
                        {
                            "field": "store_address",
                            "label": "Address",
                            "type": "text",
                            "inline": true
                        },
                        {
                            "field": "store_postcode",
                            "label": "Postcode",
                            "type": "text",
                            "filter": "like",
                            "inline": true
                        },
                        {
                            "field": "store_icc",
                            "label": "Country",
                            "inline": true,
                            "filter": "match"
                        },
                        {
                            "label": "Details"
                        },
                        {
                            "field": "store_format",
                            "label": "Format",
                            "type": "text",
                            "inline": true,
                            "level": 2,
                            "filter": {
                                "in": ["Supercentre", "Warehouse"]
                            }
                        },
                        {
                            "field": "store_size",
                            "label": "Size",
                            "type": "integer",
                            "inline": true,
                            "level": 2
                        },
                        {
                            "field": "store_sales",
                            "label": "Sales",
                            "type": "integer",
                            "inline": true,
                            "level": 2,
                            "filter": "numeric"
                        },
                        {
                            "field": "store_strategy",
                            "label": "Strategy",
                            "type": "text",
                            "inline": true,
                            "level": 2
                        },
                        {
                            "field": "store_opening_date",
                            "label": "Opening date",
                            "type": "text",
                            "inline": true,
                            "level": 2
                        },
                        {
                            "field": "store_inventory_date",
                            "label": "Inventory date",
                            "type": "text",
                            "inline": true,
                            "level": 2
                        },
                        {
                            "field": "store_parking_n",
                            "label": "Parking spaces",
                            "type": "integer",
                            "inline": true,
                            "level": 2
                        },
                        {
                            "field": "store_tenure",
                            "label": "Tenure",
                            "type": "text",
                            "inline": true,
                            "level": 2
                        },
                        {
                            "field": "model_area",
                            "label": "Model area",
                            "type": "integer",
                            "inline": true
                        },
                        {
                            "field": "model_wgt",
                            "label": "Model weight",
                            "type": "numeric",
                            "inline": true
                        },
                        {
                            "field": "model_sales",
                            "label": "Model sales",
                            "type": "numeric",
                            "inline": true,
                            "filter": "numeric"
                        }
                    ],
                    "style": {
                        "marker": "svg_symbols.target([400,'#999',350,'#fff'])",
                        "markerMulti": [400,"#DDD"],
                        "themes": [
                            {
                                "label": "Brand",
                                "type": "categorized",
                                "field": "brand",
                                "other": true,
                                "cat": {
                                    "B_Q": {
                                        "marker": "svg_symbols.target([400, '#FE6721'])",
                                        "label": "B&Q"
                                    },
                                    "CEF": {
                                        "marker": "svg_symbols.target([400, '#DC0F30'])",
                                        "label": "CEF"
                                    },
                                    "City_Plumbing_Supplies": {
                                        "marker": "svg_symbols.target([400, '#FAAD39', 200, '#0CADEB'])",
                                        "label": "City Plumbing Supplies"
                                    },
                                    "Edmundson": {
                                        "marker": "svg_symbols.target([400, '#0E294A', 200, '#F75F28'])",
                                        "label": "Edmundson"
                                    },
                                    "Homebase": {
                                        "marker": "svg_symbols.target([400, '#4AB655', 250, '#FE7D46'])",
                                        "label": "Homebase"
                                    },
                                    "Howdens": {
                                        "marker": "svg_symbols.target([400, '#000', 300, '#F0504C'])",
                                        "label": "Howdens"
                                    },
                                    "Jewson": {
                                        "marker": "svg_symbols.target([400, '#02529C', 200, '#FFD43E'])",
                                        "label": "Jewson"
                                    },
                                    "Leroy_Merlin": {
                                        "marker": "svg_symbols.target([400, '#73BF50'])",
                                        "label": "Leroy Merlin"
                                    },
                                    "MrBricolage": {
                                        "marker": "svg_symbols.target([400, '#FD0F17', 150, '#4CAD4F'])",
                                        "label": "MrBricolage"
                                    },
                                    "OBI": {
                                        "marker": "svg_symbols.target([400, '#333', 320, '#FC8B45'])",
                                        "label": "OBI"
                                    },
                                    "Screwfix": {
                                        "marker": "svg_symbols.target([400, '#01539C', 200, '#EC212B'])",
                                        "label": "Screwfix"
                                    },
                                    "TOOLSTATION": {
                                        "marker": "svg_symbols.target([400, '#5E84B8', 200, '#DA0E16'])",
                                        "label": "TOOLSTATION"
                                    },
                                    "Toom": {
                                        "marker": "svg_symbols.target([400, '#B70E1E', 150, '#066D31'])",
                                        "label": "Toom"
                                    },
                                    "Topps_Tiles": {
                                        "marker": "svg_symbols.target([400, '#424951', 120, '#DBCF40'])",
                                        "label": "Topps Tiles"
                                    },
                                    "Travis_Perkins": {
                                        "marker": "svg_symbols.target([400, '#0A451D', 250, '#FFF5FF', 200, '#FFF5FF'])",
                                        "label": "Travis Perkins"
                                    },
                                    "Wickes": {
                                        "marker": "svg_symbols.target([400, '#014E9B', 200, '#FFF'])",
                                        "label": "Wickes"
                                    }
                                }
                            }
                        ]
                    }
                },
                "kingfisher_scratch": {
                    "hidden": true,
                    "name": "Filter",
                    "pane": ["scratch", 520],
                    "format": "geojson",
                    "sql_filter": "sql_filter",
                    "dbs": "KFR",
                    "table": "kingfisher_scratch",
                    "geomq": "geom",
                    "qID": "id",
                    "infoj": [
                        {
                            "field": "count.store_id",
                            "label": "Count of shops",
                            "type": "integer",
                            "layer": "stores"
                        },
                        {
                            "field": "sum.store_sales",
                            "label": "Total store sales",
                            "type": "integer",
                            "layer": "stores"
                        },
                        {
                            "field": "sum.model_wgt",
                            "label": "Model weighting",
                            "type": "numeric",
                            "layer": "stores"
                        },
                        {
                            "field": "sum.model_sales",
                            "label": "Total model sales",
                            "type": "numeric",
                            "layer": "stores"
                        }
                    ]
                },
                "NUTS3": {
                    "pane": [
                        "bounds",
                        510
                    ],
                    "format": "mvt",
                    "dbs": "XYZ",
                    "geom_3857": "geom_3857",
                    "qID": "nuts_id",
                    "infoj": [
                        {
                            "field": "pop__14",
                            "label": "Population",
                            "type": "numeric"
                        },
                        {
                            "field": "gen_f__14",
                            "label": "Female",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "gen_m__14",
                            "label": "Male",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "label": "Age groups"
                        },
                        {
                            "field": "age_00to09__14",
                            "label": "9 years and younger",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "age_10to19__14",
                            "label": "10 to 19 years",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "age_20to29__14",
                            "label": "20 to 29 years",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "age_30to39__14",
                            "label": "30 to 39 years",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "age_40to49__14",
                            "label": "40 to 49 years",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "age_50to59__14",
                            "label": "10 to 19 years",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "age_60to69__14",
                            "label": "60 to 69 years",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "age_70pl__14",
                            "label": "70 years and above",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "label": "Flux"
                        },
                        {
                            "field": "births__14",
                            "label": "Births",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "deaths__14",
                            "label": "Deaths",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "label": "Economic Activity"
                        },
                        {
                            "field": "employed__14",
                            "label": "Employed",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "employee__14",
                            "label": "Employee",
                            "type": "numeric",
                            "level": 1
                        },
                        {
                            "field": "nama_10r_3gdp__14",
                            "label": "GDP",
                            "type": "numeric"
                        }
                    ],
                    "arrayZoom": {
                        "5": "eu_nuts_data"
                    },
                    "tilecache": "eu_nuts_data__tc",
                    "style": {
                        "default": {
                            "weight": 1,
                            "color": "#000",
                            "opacity": 0.3,
                            "fill": true,
                            "fillOpacity": 0
                        },
                        "highlight": {
                            "color": "#e91e63",
                            "fill": true,
                            "fillOpacity": 0
                        }
                    }
                },
                "grid": {
                    "display": true,
                    "name": "DIY Demand Grid",
                    "format": "grid",
                    "pane": [
                        "grid",
                        515
                    ],
                    "dbs": "KFR",
                    "geom": "geomcntr",
                    "arrayZoom": {
                        "6": "diy_hex_32k",
                        "7": "diy_hex_32k",
                        "8": "diy_hex_16k",
                        "9": "diy_hex_08k"
                    },
                    "queryFields": [
                        [
                            "diy_demand",
                            "DIY Demand"
                        ],
                        [
                            "tot_ucw",
                            "Total UCW"
                        ]
                    ]
                },
                "admin_fr": {
                    "name": "FR Communes",
                    "format": "mvt",
                    "geom_3857": "geom_3857",
                    "pane": ["admin", 510],
                    "dbs": "KFR",
                    "qID": "commune_id",
                    "arrayZoom": {
                        "11": "admin_fr"
                    },
                    "tilecache": "admin_fr__tc",
                    "infoj": []
                },
                "admin_uk": {
                    "name": "UK LSOA",
                    "format": "mvt",
                    "geom_3857": "geom_3857",
                    "pane": ["admin", 510],
                    "dbs": "KFR",
                    "qID": "geom_id",
                    "arrayZoom": {
                        "11": "admin_uk"
                    },
                    "tilecache": "admin_uk__tc",
                    "infoj": []
                }
            }
        }
    }
}